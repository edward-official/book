8장에서 배운 것처럼, 논리적 제어 흐름(logical control flow)은 시간이 겹치는 경우 동시(concurrent) 하다고 말한다. 이러한 일반적인 현상, 즉 동시성(concurrency) 은 컴퓨터 시스템의 여러 다른 수준에서 나타난다. 하드웨어 ==예외 처리기, 프로세스, 리눅스 시그널 핸들러== 등이 모두 익숙한 예시다.

지금까지는 동시성을 주로 운영체제가 여러 응용 프로그램을 동시에 실행하기 위해 사용하는 메커니즘으로 다뤄왔다. 그러나 동시성은 커널에만 국한되지 않는다. 애플리케이션 프로그램에서도 중요한 역할을 할 수 있다. 예를 들어, 리눅스의 시그널 핸들러가 사용자가 Ctrl+C를 입력하거나 프로그램이 정의되지 않은 가상 메모리 영역에 접근하는 등의 비동기적 사건(asynchronous event)에 응답하도록 하는 것을 이미 보았다.

애플리케이션 수준의 동시성(application-level concurrency)은 다음과 같은 다양한 방식으로도 유용하다:


#### 느린 I/O 장치 접근 가속화

애플리케이션이 디스크 같은 느린 I/O 장치로부터 데이터를 기다리는 동안, 커널은 CPU를 다른 프로세스 실행에 활용한다. 개별 애플리케이션도 I/O 요청을 처리하는 동안 유용한 작업을 겹쳐 실행함으로써 이런 동시성의 이점을 얻을 수 있다.

#### 사람과의 상호작용

사람들은 컴퓨터를 사용할 때 여러 작업을 동시에 수행하길 원한다. 예를 들어, 문서를 인쇄하면서 창의 크기를 조정하고 싶을 수 있다. 현대 윈도우 시스템은 이런 기능을 제공하기 위해 동시성을 활용한다. 사용자가 어떤 행동(예: 마우스 클릭)을 할 때마다, 해당 동작을 수행하기 위해 별도의 논리적 제어 흐름이 생성된다.

#### 작업 지연을 줄이기 위해 일을 나중으로 미루기

애플리케이션은 특정 작업을 나중으로 미루고 다른 작업과 동시에 수행함으로써 지연(latency)을 줄일 수 있다. 예를 들어, 동적 저장소 할당기(dynamic storage allocator)는 일부 `free` 작업을 나중으로 미루어 “합병(coalescing)” 흐름이 낮은 우선순위로 실행되도록 하여, 여유 CPU 사이클을 이용할 수 있다.

#### 여러 네트워크 클라이언트 처리

11장에서 다룬 반복형(iterative) 네트워크 서버는 한 번에 하나의 클라이언트만 처리할 수 있기 때문에 비현실적이다. 하나의 느린 클라이언트가 전체 서비스를 지연시킬 수 있기 때문이다. 현실적인 서버는 수백 또는 수천 개의 클라이언트를 동시에 처리해야 한다. 더 나은 접근 방식은 각 클라이언트에 대해 별도의 논리 흐름을 생성하는 ==동시 서버(concurrent server)== 를 구축하는 것이다. 이렇게 하면 느린 클라이언트가 서버를 독점하는 것을 방지할 수 있다.

#### 다중 코어 머신에서 병렬 실행

현대 시스템은 여러 CPU를 포함한 멀티코어 프로세서로 구성되어 있다. 애플리케이션을 여러 논리적 흐름으로 나누면, 각 흐름이 서로 다른 코어에서 병렬로 실행될 수 있어 단일 코어 머신보다 빠르게 작동할 수 있다.


응용 프로그램 수준의 동시성을 활용하는 애플리케이션을 동시 프로그램(concurrent program) 이라고 한다.  
현대 운영체제는 동시 프로그램을 작성하기 위한 세 가지 기본적인 접근 방식을 제공한다:


##### 프로세스 (Processes)

이 접근법에서는 각 논리적 제어 흐름이 커널이 스케줄링하고 관리하는 하나의 프로세스(process) 가 된다. 프로세스들은 각각 독립적인 가상 주소 공간을 가지므로, 서로 통신하기 위해서는 명시적인 프로세스 간 통신(IPC: interprocess communication) 메커니즘이 필요하다.

##### I/O 멀티플렉싱 (I/O multiplexing)

이 방식은 하나의 프로세스 내에서 애플리케이션이 스스로 여러 논리적 흐름을 명시적으로 스케줄링하는 형태의 동시 프로그래밍이다. 논리적 흐름은 상태 머신(state machine) 으로 모델링되며, 데이터가 파일 디스크립터로 도착할 때마다 프로그램의 상태가 변화한다. 프로그램이 하나의 프로세스이기 때문에 모든 흐름은 동일한 주소 공간을 공유한다.

##### 스레드 (Threads)

스레드는 하나의 프로세스 내에서 실행되는 논리적 흐름이며, 커널이 스케줄링한다. 스레드는 앞선 두 방식의 혼합형(hybrid) 으로 볼 수 있다. 즉, 프로세스처럼 커널이 스케줄링하지만, I/O 멀티플렉싱과 같이 동일한 가상 주소 공간을 공유한다.

